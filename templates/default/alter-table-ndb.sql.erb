-- ALTER TABLE USERS_GROUPS DROP FOREIGN KEY FK_USERS_GROUPS_email;
-- ALTER TABLE USERS_GROUPS ENGINE=NDBCLUSTER;

ALTER TABLE STUDY_GROUPS DROP FOREIGN KEY STUDY_GROUPS_ibfk_1;
ALTER TABLE StudyTeam DROP FOREIGN KEY fk_studyTeam_users;
ALTER TABLE study_group_members DROP FOREIGN KEY ;
ALTER TABLE study_services DROP FOREIGN KEY ;
ALTER TABLE inodes DROP FOREIGN KEY Inodes_ibfk_1;
-- ALTER TABLE  DROP FOREIGN KEY ;



ALTER TABLE USERS ENGINE=NDBCLUSTER;
ALTER TABLE BBCGroup ENGINE=NDBCLUSTER;
ALTER TABLE People_Group ENGINE=NDBCLUSTER;
ALTER TABLE Roles ENGINE=NDBCLUSTER;
ALTER TABLE STUDY_GROUPS ENGINE=NDBCLUSTER;
ALTER TABLE StudyRoles ENGINE=NDBCLUSTER;
ALTER TABLE StudyTeam ENGINE=NDBCLUSTER;
ALTER TABLE study ENGINE=NDBCLUSTER;
ALTER TABLE study_group_members ENGINE=NDBCLUSTER;
ALTER TABLE study_services ENGINE=NDBCLUSTER;
ALTER TABLE inodes ENGINE=NDBCLUSTER;


-- ALTER TABLE Alerts ENGINE=NDBCLUSTER;
-- ALTER TABLE ClusterEntities ENGINE=NDBCLUSTER;
-- ALTER TABLE Commands  ENGINE=NDBCLUSTER;
-- ALTER TABLE Graphs ENGINE=NDBCLUSTER;
-- ALTER TABLE Hosts ENGINE=NDBCLUSTER;
-- ALTER TABLE NodeProgress ENGINE=NDBCLUSTER;
-- ALTER TABLE PaasCredentials ENGINE=NDBCLUSTER;
-- ALTER TABLE SEQUENCE ENGINE=NDBCLUSTER;

-- ALTER TABLE Samples ENGINE=NDBCLUSTER;
-- ALTER TABLE Jobs ENGINE=NDBCLUSTER;
-- ALTER TABLE Workflows ENGINE=NDBCLUSTER;

-- ALTER TABLE USERS_GROUPS ADD FOREIGN KEY `FK_USERS_GROUPS_email` (`email`) REFERENCES `USERS` (`EMAIL`);


ALTER TABLE STUDY_GROUPS ADD FOREIGN KEY `STUDY_GROUPS_ibfk_1` (`email`) REFERENCES `USERS` (`EMAIL`) ON DELETE CASCADE;
ALTER TABLE StudyTeam ADD FOREIGN KEY `fk_studyTeam_users` (`team_member`) REFERENCES `USERS` (`EMAIL`) ON DELETE CASCADE;
ALTER TABLE StudyTeam ADD FOREIGN KEY `fk_study_studyTeam` (`name`) REFERENCES `study` (`name`) ON DELETE CASCADE;
ALTER TABLE study_group_members ADD FOREIGN KEY `FK_study_group_members_studyname` (`studyname`) REFERENCES `study` (`name`) ON DELETE CASCADE;
ALTER TABLE study_services ADD FOREIGN KEY `study_services_ibfk_1` (`study`) REFERENCES `study` (`name`) ON DELETE CASCADE;
ALTER TABLE inodes ADD FOREIGN KEY `Inodes_ibfk_1` (`pid`) REFERENCES `Inodes` (`id`) ON DELETE CASCADE;

-- ALTER TABLE  ADD FOREIGN KEY `` (``) REFERENCES `` (``) ON DELETE CASCADE;
